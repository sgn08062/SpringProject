<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리자 대시보드 - 최종 구현본</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
<div class="dashboard-container">
    <header class="header">
        <h1 class="logo">🌿 FARM 관리자 대시보드</h1>
        <div class="header-links">
            <span id="admin-greeting">관리자님</span>
            <a href="#" id="logout-btn" class="shop-link">로그아웃</a>
        </div>
    </header>

    <section class="summary-cards">
        <div class="card sale-card"><span class="label">총 매출</span><span class="value" id="summary-total-sales">0원</span><i class="icon">💰</i></div>
        <div class="card order-card"><span class="label">총 주문</span><span class="value" id="summary-total-orders">0건</span><i class="icon">📦</i></div>
        <div class="card item-card"><span class="label">등록 상품</span><span class="value" id="summary-total-items">0개</span><i class="icon">📈</i></div>
        <div class="card avg-order-card"><span class="label">평균 주문액</span><span class="value" id="summary-avg-order">0원</span><i class="icon">📊</i></div>
    </section>

    <nav class="tab-menu">
        <button class="tab-button active" data-target="farm-manage">농작물 관리</button>
        <button class="tab-button" data-target="product-manage">상품 관리</button>
        <button class="tab-button" data-target="order-manage">주문 관리</button>
        <button class="tab-button" data-target="stats-settlement">통계/정산</button>
    </nav>

    <div class="tab-content active" id="farm-manage">
        <h2>🌱 농작물 관리</h2>
        <button class="btn-primary" onclick="openModal('new-crop-modal')">+ 새 농작물 등록</button>
        <button class="btn-secondary" onclick="openModal('new-farm-modal')">+ 농가 등록</button>

        <h3>등록된 농가 목록</h3>
        <table class="data-table farm-table">
            <thead><tr><th>농가명</th><th>관리자</th><th>관리</th></tr></thead>
            <tbody id="farm-list"></tbody>
        </table>

        <h3>재배 농작물 목록</h3>
        <table class="data-table">
            <thead>
            <tr><th>농작물명</th><th>재배면적</th><th>파종일</th><th>예상 수확일</th><th>상태</th><th>재배상태</th><th>관리</th></tr>
            </thead>
            <tbody id="crop-list"></tbody>
        </table>
    </div>

    <div class="tab-content" id="product-manage">
        <h2>🛒 상품 목록 및 수정</h2>
        <button class="btn-primary" onclick="openModal('new-product-modal')">+ 새 상품 등록</button>

        <table class="data-table product-table">
            <thead>
            <tr>
                <th>상품 ID</th>
                <th>상품명</th>
                <th>가격</th>
                <th>저장품목ID</th>
                <th>판매 상태</th>
                <th>관리</th>
            </tr>
            </thead>
            <tbody id="product-list">
            <tr><td colspan="6">상품 데이터를 불러오는 중...</td></tr>
            </tbody>
        </table>
    </div>

    <div class="tab-content" id="order-manage">
        <h2>📦 전체 주문 목록</h2>
        <div class="filter-area">
            <input type="text" placeholder="주문번호, 고객명 검색">
            <select><option>전체 상태</option><option>입금 전</option></select>
            <button class="btn-secondary">검색</button>
        </div>
        <table class="data-table order-table">
            <thead><tr><th>주문번호</th><th>고객명</th><th>주문일</th><th>금액</th><th>상태</th><th>관리</th></tr></thead>
            <tbody id="order-list"></tbody>
        </table>
    </div>

    <div class="tab-content" id="stats-settlement">
        <h2>📊 통계 / 정산 내역</h2>
        <p>날짜별/품목별 매출 통계 및 정산 내역을 조회하는 영역입니다. (현재 데이터 없음)</p>
        <div style="height: 300px; background-color: #f5f5f5; border: 1px solid #ddd; margin-bottom: 20px; line-height: 300px; text-align: center;">**[농작물 주문 통계 그래프 영역]**</div>
        <table class="data-table">
            <thead><tr><th>날짜</th><th>총 매출액</th><th>수수료</th><th>정산 예정액</th></tr></thead>
            <tbody>
            <tr><td colspan="4">통계 데이터는 현재 구현되지 않았습니다.</td></tr>
            </tbody>
        </table>
    </div>

</div>

<div id="new-product-modal" class="modal">
    <div class="modal-content">
        <span class="close-button" onclick="closeModal('new-product-modal')">&times;</span>
        <h3>새 상품 등록</h3>
        <form id="new-product-form">
            <label>상품명</label><input type="text" id="new-item-name" placeholder="예: 유기농 토마토" required>
            <label>가격</label><input type="number" id="new-item-price" placeholder="예: 12000" required>
            <label>저장품목ID</label><input type="text" id="new-stor-id" placeholder="예: 101" required>
            <button type="submit" class="btn-primary">등록하기</button>
        </form>
    </div>
</div>

<div id="edit-product-modal" class="modal">
    <div class="modal-content">
        <span class="close-button" onclick="closeModal('edit-product-modal')">&times;</span>
        <h3>상품 수정 (ID: <span id="edit-product-id-display"></span>)</h3>
        <form id="edit-product-form">
            <input type="hidden" id="edit-item-id">
            <label>상품명</label><input type="text" id="edit-item-name" placeholder="예: 유기농 토마토">
            <label>가격</label><input type="number" id="edit-item-price" placeholder="예: 12000">
            <label>저장품목ID</label><input type="text" id="edit-stor-id" placeholder="예: 101">
            <button type="submit" class="btn-primary">수정 완료</button>
        </form>
    </div>
</div>

<script src="/script.js"></script>
</body>
</html>